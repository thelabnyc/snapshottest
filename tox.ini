[tox]
toxworkdir={env:TOX_WORK_DIR:.tox}
envlist =
    py{311,312,313,314}-{pytest,unittest,nose2,django}

[testenv:py{311,312,313,314}-pytest]
runner = uv-venv-runner
deps =
    pytest==9.0.2
commands =
    python -m pytest tests examples/pytest

[testenv:py{311,312,313,314}-unittest]
runner = uv-venv-runner
commands =
    python examples/unittest/test_demo.py

[testenv:py{311,312,313,314}-nose2]
runner = uv-venv-runner
deps =
    nose2==0.15.1
commands =
    python -m nose2 examples.unittest

[testenv:py{311,312,313,314}-django]
runner = uv-venv-runner
deps =
    django==5.2
allowlist_externals =
    bash
commands =
    bash -c 'cd {toxinidir}/examples/django_project && python manage.py test'
